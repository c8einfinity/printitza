<?php
/**
 * Designtool template
 *
 * @var $block \Designnbuy\Template\Block\Adminhtml\Template\Tool
 */
?>
<?php

?>

<?php
/**
 * Merchandise designtool view template
 *
 * @var $block \Designnbuy\Designidea\Block\Adminhtml\Designidea\Tool
 */
?>
<?php
$facebook = '';
$flickr = '';
$instagram = '';
$imageDPI = '';
$product_arr = array();
$objectManager = \Magento\Framework\App\ObjectManager::getInstance();
$keyObject = $objectManager->get('Magento\Framework\Data\Form\FormKey');
$formKey = $keyObject->getFormKey();
$storeManager = $objectManager->get('\Magento\Store\Model\StoreManagerInterface');
$webpath = $storeManager->getStore()->getBaseUrl(\Magento\Framework\UrlInterface::URL_TYPE_WEB);
$jspath = $webpath.'dnb/';

$corporateImagePath = '';
$isCoprorateImages = false;
$saveButtonId = 'save_template';


$storeId = $this->getStoreId();
$productId = $this->getProductId();
$productData = $this->getProductData();
$postData = '';
$productArea = $productData['Area'];
$product_id = $this->getProductId();
$id = $this->getRequest()->getParam('designidea_id');
$text_area = '';
$preTemplate = '';
$jobId = '';
$no_of_side = $productData['noofSides'];
$designData = array('design_id' => NULL, 'design_name' => NULL);
$customerId = '';
$savedPrintingMethod = '';
$customerTypeOptions = '';
$customerTypeId = '';
$isDefaultWebsite = '';
if($this->getRequest()->getParam('jobId')){
    /*$jobId = $this->getRequest()->getParam('jobId');
    $designtoolType = 'jobRequest';
    $exitUrl = Mage::getSingleton('adminhtml/url')->getUrl('adminhtml/corporatejob_corporatejob/edit', array('id' => $this->getRequest()->getParam('jobId')));
    $designerMode = true;
    $_design = Mage::getModel('designnbuy_corporatejob/corporatejob')->load($jobId);
    $_design_idea = explode(",",$_design->getSvgData());
    $svgDir = Mage::helper('designnbuy_corporatejob/corporatejob')->getDesignImageUrl();*/
}else if($this->getRequest()->getParam('preTemplate')){
    /*$exitUrl = Mage::getSingleton('adminhtml/url')->getUrl('adminhtml/catalog_product/edit', array('_current' => true,'id' => $product_id));
    $preTemplateDir = Mage::getBaseDir(). DS .'media' . DS .'preTemplates'. DS;

    $preTemplate = $this->getRequest()->getParam('preTemplate');
    $attributes = array('product_id'=> $product_id, 'store_id'=> $storeId);
    $_design = Mage::getModel('designnbuy_designidea/pretemplate')->loadByAttributes($attributes);

    if ($_design->getId() == ''){
        $attributes = array('product_id'=> $product_id, 'store_id'=> 0);
        $_design = Mage::getModel('designnbuy_designidea/pretemplate')->loadByAttributes($attributes);
    }
    $_design_idea[0] = $_design->getFrontImage();
    $_design_idea[1] = $_design->getBackImage();
    $_design_idea[2] = $_design->getLeftImage();
    $_design_idea[3] = $_design->getRightImage();
    $svgDir = Mage::getBaseDir(). DS .'media' . DS .'preTemplates'. DS;*/
}else if($this->getRequest()->getParam('id')){
    $exitUrl = $block->getUrl("designidea/designidea/edit", array('_current' => true,'id' => $id));
    $no_of_side = 1;

    $_design = $this->getCurrentDesign();

    $_design_idea[0] = $_design->getSvg();
    $svgDir = $block->getSvgPath();
}
else if($this->getRequest()->getParam('design_id') != '')
{
    /*$saveButtonId = 'save_image';
    $no_of_side = 4;
    $design_id = $this->getRequest()->getParam('design_id');
    $_design_idea = Mage::getModel('design/savedesign')->load($design_id);
    $customerId = $_design_idea->getCustomerId();
    $_design_idea[0] = $_design_idea->getFrontImage();
    $_design_idea[1] = $_design_idea->getBackImage();
    $_design_idea[2] = $_design_idea->getLeftImage();
    $_design_idea[3] = $_design_idea->getRightImage();
    $designData['design_id'] = $_design_idea->getDesignId();
    $designData['design_name'] = $_design_idea->getDesignName();
    $savedPrintingMethod = $_design_idea->getPrintingMethod();
    $svgDir = Mage::getBaseDir(). DS .'media' . DS .'saveimg'. DS;
    $exitUrl = Mage::getSingleton('adminhtml/url')->getUrl('adminhtml/customer/edit', array('id' => $customerId));*/
}

/*for($i=1; $i<=$no_of_side; $i++){
    $init_data = '';
    if($i == 1)
    {
        $design_area = $productArea['frontArea'];
        $design_area_arr['front'] = explode(",", $design_area);
        if($_design_idea){
            $file_name = $_design_idea[0];
            if($file_name != '')
            {
                $file_name_dir = $svgDir . $file_name;
                $init_data = setSvgSize(file_get_contents($file_name_dir), $design_area_arr['front'][2]*15, $design_area_arr['front'][3]*15, $webpath);
            }
        }
    }
    else if($i == 2)
    {
        $design_area = $productArea['backArea'];
        $design_area_arr['back'] = explode(",", $design_area);
        if($_design_idea){
            $file_name = $_design_idea[1];
            if($file_name != '')
            {
                $file_name_dir = $svgDir . $file_name;
                $init_data = setSvgSize(file_get_contents($file_name_dir), $design_area_arr['back'][2]*15, $design_area_arr['back'][3]*15, $webpath);
            }
        }
    }
    else if($i == 3)
    {
        $design_area = $productArea['leftArea'];
        $design_area_arr['left'] = explode(",", $design_area);
        if($_design_idea){
            $file_name = $_design_idea[2];
            if($file_name != '')
            {
                $file_name_dir = $svgDir . $file_name;
                $init_data = setSvgSize(file_get_contents($file_name_dir), $design_area_arr['left'][2]*15, $design_area_arr['left'][3]*15, $webpath);
            }
        }
    }
    else if($i == 4)
    {
        $design_area = $productArea['rightArea'];
        $design_area_arr['right'] = explode(",", $design_area);
        if($_design_idea){
            $file_name = $_design_idea[3];
            if($file_name != '')
            {
                $file_name_dir = $svgDir . $file_name;
                $init_data = setSvgSize(file_get_contents($file_name_dir), $design_area_arr['right'][2]*15, $design_area_arr['right'][3]*15, $webpath);
            }
        }
    }
    $text_area .= '<textarea autocomplete="off" style="display:none;" id="textsvg_'.$i.'" name="textsvg_'.$i.'">'.htmlspecialchars($init_data).'</textarea>';
}*/


$Image = $productData['productImages'];
$isMultiColor = $productData['multiColor'];


//$fontCollection = Mage::helper('fontmanagement')->getFontData();

$uniqueid = '';
$locale = '';
$lang_id = '';
$locale = 'en_US';
$getLocale = $objectManager->get('Magento\Framework\Locale\Resolver');
$locale  = $getLocale->getLocale();

$uniqueid = $_SESSION['uniqueid'] = md5(rand());
if($locale == 'de_CH')	$lang_id = 'lang=de';
else if($locale == 'fr_FR')	$lang_id = 'lang=fr';
else if($locale == 'en_US')	$lang_id = 'lang=en';
else	$lang_id = '';

$designCategoryArray = [];

$side_id = 'front';

$sizecolorarray = '';

$json_object = '';
$colorimages = array();
$imageCounter = 0;
function setSvgSize($init_data,$width,$height, $webpath){
    if($init_data!=''){
        $doc = new DOMDocument();
        $doc->preserveWhiteSpace = False;
        $doc->loadXML($init_data);
        foreach ($doc->getElementsByTagNameNS('http://www.w3.org/2000/svg', 'svg') as $element):
            foreach ($element->getElementsByTagName("*") as $tags):
                if($tags->localName=='pattern' && $tags->getAttribute('id')=='gridpattern') {
                    $tags->parentNode->removeChild( $tags );
                }
                if($tags->localName=='image' && $tags->getAttribute('xlink:href')!=''):
                    $imageUrl = $tags->getAttribute('xlink:href');
                    $uploadedImage = explode('media/',$imageUrl);
                    if($uploadedImage[0]!='' && $uploadedImage[0] != $webpath):
                        $tags->setAttribute('xlink:href',$block->getMediaPath().$uploadedImage[1]);
                    endif;
                endif;
            endforeach;
        endforeach;
        $doc->documentElement->setAttribute("width",$width);
        $doc->documentElement->setAttribute("height",$height);
        $doc->documentElement->setAttribute("viewBox","0 0 ".$width." ".$height);
        return $init_data = $doc->saveXML($doc);
    }
}
?>


<script type="text/javascript" src="<?php echo $jspath.'jquery.js'; ?>"></script>
<script>
    var storeId = '<?php echo $storeId; ?>';
    var productid = '<?php echo $productId;?>';
    /* For Save Designs (Priyank) */
    var designData = {};
    designData = $j.parseJSON('<?php echo json_encode($designData); ?>');
    var customer_id = '<?php echo $customerId;?>';
    var savedPrintingMethod = "";
    savedPrintingMethod = '<?php echo $savedPrintingMethod; ?>';
    savedPrintingMethod = $j.parseJSON(savedPrintingMethod);
    /* For Save Designs (Priyank) */
    var postData = "{}";
    postData = '<?php echo $postData; ?>';
    postData = $j.parseJSON(postData);
    var isFront = 0;
    var user = 'admin';
    function trace(str){
        //console.log(str);
    }
    $j = jQuery.noConflict();
    var text_svg1,text_svg2,text_svg3,text_svg4 = '';
    var webpath = '<?php echo $webpath;?>';
    var basepath = '<?php echo $webpath;?>';
    var currentStore = 'en_US';
    var jspath = '<?php echo $jspath;?>';
    var facebookAppId = '<?php echo $facebook;?>';
    var flickrAppId = '<?php echo $flickr;?>';
    var instagramAppId = '<?php echo $instagram;?>';
    var imageDPI = '<?php echo $imageDPI;?>';
    var mediapath = '<?php echo $this->helper('Designnbuy\Base\Helper\Data')->getAdminImageUrl(); ?>';
    var catid = '';
    var confignotfound = 'Item Not Found';
    var qrCodePath = '<?php echo $this->helper('Designnbuy\Base\Helper\Data')->getCustomerImageUrl(); ?>';
    var qrCodeLib = '<?php echo $webpath.'dnb/phpqrcode/index.php' ?>';
    var deleteQrCodeUrl = '<?php echo $block->getUrl('design/index/deleteqrcode');?>';
    var relatedSubCategoryUrl = '<?php echo $block->getUrl('design/index/getrelatedproducttype');?>';
    // var categoryUrl = '<?php echo $block->getUrl("adminhtml/designidea_designidea/getProductCategory/");?>';
    var categoryUrl = '<?php echo $block->getUrl("merchandise/category/index",array('_current' => true));?>';
    var relatedProductUrl = '<?php echo $block->getUrl("merchandise/category/products",array('_current' => true));?>';

    var designIdeaCategoryUrl = '<?php echo $block->getUrl('designidea/designideacategory/getDesignIdeaCategory');?>';
    var relatedDesignIdeaUrl = '<?php echo $block->getUrl('design/index/getrelateddesignidea');?>';
    // var productUrl = '<?php //echo $block->getUrl("gallery_admin/admin_gallery/product/");?>';
    var productUrl = '<?php echo $block->getUrl('merchandise/product/index',array('_current' => true));?>';
    var productPriceUrl = '<?php echo $block->getUrl('design/index/getrelatedprice');?>';
    var crossOriginalUploadUrl = '<?php echo $block->getUrl('base/image/download');?>';
    var instagramChannelUrl = '<?php echo $webpath.'dnb/instagram-channel.html';?>';
    var loginUrl = '<?php echo $block->getUrl('customer/account/loginFromTool');?>';
    var registrationUrl = '<?php echo $block->getUrl('customer/account/createNewPost');?>';
    var loginCheckUrl = '<?php echo $block->getUrl('customer/account/loginCheck');?>';
    var saveBase64Url = '<?php echo $block->getUrl('design/index/savebase64onserver');?>';
    //var saveDesignUrl = '<?php echo $block->getUrl('design/index/savemydesign');?>';
    var saveDesignUrl = '<?php echo $block->getUrl("design/adminhtml_index/savemydesign/");?>';
    var shareDesignUrl = '<?php echo $block->getUrl('design/index/sharemydesign');?>';
    //var generatePreviewPngUrl = '<?php echo $block->getUrl('design/index/generatePreviewPng');?>';
    var generatePreviewPngUrl = '<?php echo $block->getUrl('base/index/generatePng');?>';
    var generateRootPngUrl = '<?php echo $block->getUrl('threed/index/generateRootPng');?>';//for 3d preivew

    var getCorporatesUrl = '<?php echo $block->getUrl("adminhtml/corporateimages_corporateimages/getCorporates/");?>';
    
    var previewPdfUrl = '<?php echo $block->getUrl('design/index/previewPdf');?>';
    var backgroundImageUrl = '<?php echo $block->getUrl('w2phtml5background/W2phtml5background/background/');?>';
    var addToCartUrl = '<?php echo $block->getUrl('checkout/cart/add');?>';
    var cartUrl = '<?php echo $block->getUrl('checkout/cart');?>';

    var welcomeMessageUrl = '<?php echo $block->getUrl('design/index/welcomeMessage');?>';
    var updateTopLinksUrl = '<?php echo $block->getUrl('design/index/updateTopLinks');?>';
    var topCartsUrl = '<?php echo $block->getUrl('design/index/topCarts');?>';
    var FBredirectURI = '<?php echo $webpath.'dnb/FBredirectURI.html';?>';
    var uploadImageURL = '<?php echo $block->getUrl('base/image/upload/');?>';

    var uniqueid = '<?php echo $uniqueid;?>';
    var jsonList = '<?php echo $json_object;?>';
    jsonList = $j.parseJSON(jsonList);
    var fontUrl = '<?php echo $block->getUrl('font/font/fontlist');?>';
    var clipartCategoryUrl = '<?php echo $block->getUrl('clipart/category/categorylist');?>';
    var relatedClipartUrl = '<?php echo $block->getUrl('clipart/clipart/clipartlist');?>';

    var colorlist = '';
    printableColorList = $j.parseJSON(colorlist);
    var first_font = '';
    var designidea_id = '<?php echo $id;?>';
    var preTemplate = '<?php echo $preTemplate;?>';
    var product_id  = <?php echo $product_id; ?>;
    var no_of_side = '<?php echo $no_of_side;?>';
    console.log(no_of_side);
    // var is_multicolor = productData.multiColor;
    // var backend_url = '<?php //echo $block->getUrl("gallery_admin/admin_gallery/savedesignidea/");?>';
    var backend_url = '<?php echo $block->getUrl("designidea/designidea/savedesignidea/",array('_current' => true));?>';
    // var savePreTemplate = '<?php //echo $block->getUrl("gallery_admin/admin_gallery/savePreTemplate/");?>';
    var savePreTemplate = '<?php echo $block->getUrl("adminhtml/designidea_designidea/savePreTemplate/",array('_current' => true));?>';
    // var categoryProductUrl = '<?php //echo $block->getUrl("gallery_admin/admin_gallery/getrelatedproduct/");?>';
    var categoryProductUrl = '<?php echo $block->getUrl("adminhtml/designidea_designidea/getrelatedproduct/");?>';
    // var customize_product_url = '<?php //echo $block->getUrl("gallery_admin/admin_gallery/customize/");?>';
    var customize_product_url = '<?php echo $block->getUrl("adminhtml/designidea_designidea/customize/");?>';
    var exitUrl = '<?php echo $exitUrl; ?>';
    var formkey = '<?php echo $formKey;?>';
    var clipartsloaded = 0;
    var added_images = '';
    var fonts_used = '';
    var datauri;
    var productImageCan;
    var customizationCan;
    var priceInterval;
    var action;
    var shareType;
    var sideNameAry = ['Front','Back','Left','Right'];
    var toolType = "producttool"; //possible values: "producttool", "web2print"
    var pickerMode = "full"; //possible values: "full", "printable"
    var printingMode = "DTG"; //possible values: "DTG", "Vinyl/Screen"
    // var pickerMode = ''; //possible values: "full", "Printable"
    if(pickerMode=="printable"){
        firstColor = printableColorList[0].colorCode;
        borderColor = firstColor.substring(1);
    }else{
        borderColor = "000";
    }

    var extensionArray = ['../DO_NOT_UPLOAD/extensions/ext-product.js','../DO_NOT_UPLOAD/extensions/ext-multiColor.js','../DO_NOT_UPLOAD/extensions/ext-curveText.js','../DO_NOT_UPLOAD/extensions/ext-objectPanel.js','../DO_NOT_UPLOAD/extensions/ext-objectLock.js','../DO_NOT_UPLOAD/extensions/ext-LayerPanel.js'/*,'../DO_NOT_UPLOAD/extensions/ext-photoCollage.js'*/,'../DO_NOT_UPLOAD/extensions/ext-productPricing.js','../DO_NOT_UPLOAD/extensions/ext-ProductMaskOverlayImage.js','../DO_NOT_UPLOAD/extensions/ext-textShape.js','../DO_NOT_UPLOAD/extensions/ext-recentColors.js','../DO_NOT_UPLOAD/extensions/ext-pickDesignColor.js','../DO_NOT_UPLOAD/extensions/ext-fliptools.js','../DO_NOT_UPLOAD/extensions/ext-imageEffect.js','../DO_NOT_UPLOAD/extensions/ext-multiConfig.js','../DO_NOT_UPLOAD/extensions/ext-undoRedo.js',/*'../DO_NOT_UPLOAD/extensions/ext-corporate.js'*/,'../DO_NOT_UPLOAD/extensions/ext-ShowObjectSize.js','../DO_NOT_UPLOAD/extensions/ext-guidelines.js','../DO_NOT_UPLOAD/extensions/ext-threedpreview.js'];

    /*For Corporate*/
    var customerTypeOptions = '<?php echo $customerTypeOptions;?>';
    customerTypeOptions = $j.parseJSON(customerTypeOptions);
    var customerTypeId = '<?php echo $customerTypeId; ?>';
    var isDefaultWebsite = '<?php echo $isDefaultWebsite; ?>';
    var sendJobRequestUrl = '<?php echo $block->getUrl("adminhtml/corporatejob_corporatejob/saveJobRequest/");?>';
    var jobId = '<?php echo $jobId;?>';
    var corporateImagePath = '<?php echo $corporateImagePath; ?>';
    var isCoprorateImages = '<?php echo $isCoprorateImages; ?>';

</script>




<link rel="stylesheet" href="<?php echo $jspath.'plupload/jquery.plupload.queue.css'; ?>" type="text/css" />
<link rel="stylesheet" href="<?php echo $jspath.'picasa/gallery.css'; ?>">
<link rel="stylesheet" href="<?php echo $jspath.'css/font-awesome.css'; ?>" type="text/css" />
<link rel="stylesheet" href="<?php echo $jspath.'css/default.css'; ?>" type="text/css" />

<!--<link rel="stylesheet" href="<?php echo $jspath.'css/jPicker.css'; ?>" type="text/css" />
<link rel="stylesheet" href="<?php echo $jspath.'css/jgraduate.css'; ?>" type="text/css" />-->
<link rel="stylesheet" href="<?php echo $jspath.'css/plugins.css'; ?>" type="text/css" />

<script type="text/javascript" src="<?php echo $jspath.'js-hotkeys/jquery.hotkeys.min.js'; ?>"></script>
<script type="text/javascript" src="<?php echo $jspath.'jquerybbq/jquery.bbq.min.js'; ?>"></script>
<script type="text/javascript" src="<?php echo $jspath.'svgicons/jquery.svgicons.js'; ?>"></script>
<script type="text/javascript" src="<?php echo $jspath.'jquery-ui/jquery-ui.min.js'; ?>"></script>
<script type="text/javascript" src="<?php echo $jspath.'jgraduate/jpicker.js'; ?>"></script>
<script type="text/javascript" src="<?php echo $jspath.'jgraduate/jquery.jgraduate.min.js'; ?>"></script>
<script type="text/javascript" src="<?php echo $jspath.'spinbtn/JQuerySpinBtn.js'; ?>"></script>
<script type="text/javascript" src="<?php echo $jspath.'contextmenu/jquery.contextMenu.js'; ?>"></script>

<?php if($_SERVER['HTTP_HOST'] == "192.168.0.222" || $_SERVER['HTTP_HOST'] == "192.168.0.139" || $_SERVER['HTTP_HOST'] == "192.168.0.46" || $_SERVER['HTTP_HOST'] == "192.168.0.75") { ?>

    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/pathseg.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/touch.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/browser.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/svgtransformlist.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/math.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/units.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/svgutils.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/sanitize.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/select.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/history.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/draw.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/path.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/md5-min.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/dnb/DNBBaseObject.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/helper.js?t='.$uniqueid; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/ImportTemplate.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/ProductModule.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/product-src.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/svgcanvas.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/svg-editor.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/locale/locale.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/contextmenu.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/font_jsapi.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/font-selector.js';?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/raphael.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/plupload/moxie.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/plupload/plupload.dev.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/plupload/jquery.ui.plupload.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/plupload/imageuploader.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/jquery.jscrollpane.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/jquery.simple-color.js'; ?>"></script>
    <script type="text/javascript" src="<?php echo $jspath.'DO_NOT_UPLOAD/quill.js'; ?>"></script>

<?php } else { ?>

    <script type="text/javascript" src="<?php echo $jspath.'built.product.min.js?t='.$uniqueid; ?>"></script>
    <script type="text/javascript">
        extensionArray = [];
    </script>

<?php } ?>

<script src="<?php echo $jspath.'threejs/build/three.min.js'; ?>"></script>
<script src="<?php echo $jspath.'threejs/build/OBJLoader.js'; ?>"></script>
<script src="<?php echo $jspath.'threejs/build/OrbitControls.js'; ?>"></script>
<script src="<?php echo $jspath.'threejs/build/Detector.js'; ?>"></script>
<script src="<?php echo $jspath.'threejs/build/Projector.js'; ?>"></script>
<script src="<?php echo $jspath.'threejs/build/CanvasRenderer.js'; ?>"></script>
<script src="<?php echo $jspath.'threejs/build/stats.min.js'; ?>"></script>

<script type="text/javascript" src="<?php echo $jspath.'jquery-ui/jquery.ui.touch-punch.js'; ?>"></script>
<script type="text/javascript" src="<?php echo $jspath.'plupload/i18n/'.$locale.'.js'; ?>"></script>
<script type='text/javascript' src='<?php echo $jspath.'picasa/picasa.js'; ?>' ></script>
<script type="text/javascript" src="<?php echo $jspath.'flickr/jquery.flickr.js'; ?>"></script>

<!-- load facebook plugin -->
<!--<script type="text/javascript" src="<?php //echo $jspath.'facebook.js'; ?>"></script>-->

<!-- Font Loader Start -->
<script type="text/javascript">google.load("webfont", "1");</script>

<!-- Image Upload End-->
<div style="display:none;" id="calAreaDiv"></div>
<div class="designtool">
    <div id="container_dt">
        <div id="loaderImage-overlay" style="display:none;"></div>
        <div id="loaderImage" class="loader" style="left: 281px;">
        </div>
        <div class="wraper_dt"><!-- Control Panel & Canvas Area-->
            <div>
                <div class="main_dt">
                    <section id="white">
                        <div class="left-share-panel">
                            <div class="button-area">
                                <ul>
                                    <li>
                                        <button id="<?php echo $saveButtonId; ?>" title="Save Design">
                                            <div>
                                                <span class="d_savenote"><i class="fa fa-floppy-o"></i></span>
                                                <span id="productSaveCaption" class="caption">Save</span>
                                            </div>
                                        </button>
                                    </li>
                                    <li>
                                        <button id="preview" title="Preview">
                                            <div>
                                                <span class="d_preview"><i class="fa fa-eye"></i></span>
                                                <span id="productPreviewCaption" class="caption">Preview</span>
                                            </div>
                                        </button>
                                    </li>
                                    <li>
                                        <button id="zoomButton" title="Set Zoomlevel">
                                            <div>
                                                <span class="d_zoom"><i class="fa fa-search-plus"></i></span>
                                                <span id="productZoomCaption" class="caption">Zoom</span>
                                            </div>
                                        </button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!--<section class="center-share-panel">
                                    <div id="pageNav">
                                        <span class="firstPage"></span>
                                        <span class="prevPage"></span>
                                        <span class="gotoPage"><input type="numeric" id="gotoPageTxt" name="gotoPageTxt" maxlength="2" /></span>
                                        <span class="nextPage"></span>
                                        <span class="lastPage"></span>
                                    </div>
                                </section>-->

                        <section class="center-share-panel">
                            <!-- Object align Panel -->
                            <div class="object-align" align="center">
                                <ul id="productSides">
                                    <?php //echo $text_area; ?>
                                </ul>
                            </div>
                        </section>
                        <section class="right-share-panel">
                            <ul>
                                <li>
                                    <div id="import_svg_btn">
                                        <input type="file" id="import_svg" title="Exit" />
                                        <div><label class="btn-large" for="import_svg">Import</label></div>
                                    </div>
                                </li>
                                <li>
                                    <button title="Exit" id="exit_studio">
                                        <div>
                                            <span class="d_exit"><i class="fa fa-sign-out fa-2"></i></span>

                                            <div><label class="btn-large" for="import_svg">Exit</label></div>
                                        </div>
                                    </button>
                                </li>

                            </ul>
                            <!--<div class="button-area">
                              <button id="addproduct">
                              <div><span class="icon-1"></span><span class="caption">Product</span></div>
                              </button>
                            </div>-->
                        </section>
                    </section>
                    <section class="right-section">
                        <section class="right-panel">
                            <button id="addproduct" class="top-right-corner"><div><span class="icon-1"></span>
                                    <div class="caption" id="chooseProductCaption">Product</div>
                                </div></button>
                            <!--<button id="pickcolor"><div><span class="icon-2"></span>
                        <div class="caption" id="pickColorCaption">Pick Color</div>
                        </div></button>-->

                            <button id="addtext">
                                <div><span class="icon-4"></span></div>
                                <div class="caption" id="addTextCaption">Text</div>
                            </button>
                            <button id="addart">
                                <div><span class="icon-3"></span></div>
                                <div class="caption" id="chooseArtCaption">Art</div>
                            </button>
                            <button id="addtimage">
                                <div><span class="icon-5"></span></div>
                                <div class="caption" id="addImageCaption">Upload</div>
                            </button>
                            <!--<button id="addshape">
                            <div><span class="icon-6"></span></div>
                            <div class="caption" id="addShapesCaption">Shapes</div>
                            </button>-->
                            <!--<button id="qrCode">
                            <div><span class="icon-8"></span></div>
                            <div class="caption" id="qrCodeCaption">QR</div>
                            </button>-->
                            <!-- <button id="btnPhotoBox">
                             <div><span class="icon-9"></span></div>
                             <div class="caption" id="dphotoBoxCaption">Box</div>
                             </button>-->
                            <!--<button id="desingidea"><div><span class="icon-7"></span></div></button>-->
                        </section>
                        <!-- right-panel-property -->
                        <section class="right-panel-property">
                            <div id="color_picker"></div>
                            <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right" id="addproduct-panel">
                                <div class="box-outer">
                                    <div class="aproduct-data">
                                        <label class="label">Choose Product</label>
                                        <button id="tool_choose_prod_close"></button>
                                        <div class="input-area">
                                            <div class="field-raw">
                                                <div class="product-type">
                                                    <select id="prod_type" class="select-small">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="field-raw">
                                                <div id="prod_sub_div_type" class="product-type"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tshirt-product scroll-area">
                                        <div>
                                            <ul class="t-shirt-list" id="productconatiner">
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </nav>
                            <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right cbp-spmenu-open" id="addtocart-panel" style="display:none;">
                                <div id="cartarea" class="quantitysize">
                                    <div class="printingMethod-area">
                                        <div class="caption-section">
                                            <div id="printingMethodCaption" class="caption">Printing Method</div>
                                        </div>
                                    </div>
                                    <div class="caption-section">
                                        <div id="sizeQtyCaption" class="caption">Size/Quantity</div>
                                    </div>
                                    <div class="border-area">
                                        <div class="object-inputs" id="objectinputsize">
                                            <?php //echo $sizecolorarray; ?>
                                        </div>
                                        <div class="clear"></div>
                                    </div>
                                    <div class="caption-section">
                                        <div id="designInfo" class="captionSmall"></div>
                                    </div>
                                    <div class="caption-section">
                                        <div id="addNoteCaption" class="caption">Add Note</div>
                                    </div>
                                    <div>
                                        <textarea name="addnote" id="addnote"></textarea>
                                    </div>
                                    <div class="costing">
                                        <div class="errornotinstock" id="errornotinstock"></div>
                                        <!--<div class="rate" id="price">0.00</div>-->
                                        <div class="buttons">
                                            <button id="addcart" class="cobutton proceedto prcadcart" style="display:none;">ADD TO CART</button>
                                            <button class="prcadcart" style="display:none;" type="button" id="sendJob">Submit Request</button>
                                        </div>
                                        <div class="clear"></div>
                                    </div>
                                </div>
                            </nav>
                            <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right cbp-spmenu-open" id="layer-panel">
                                <div class="box-outer">
                                    <div class="caption-section">
                                        <div id="manageLayersCaption" class="caption">Manage Layers</div>
                                    </div>
                                    <div class="input-area">
                                        <div class="scroll-area">
                                            <div id="sortableLayerPanel" class="layer-object"></div>
                                        </div>
                                    </div>
                                </div>
                            </nav>
                            <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right" id="addart-panel">
                                <div class="box-outer">
                                    <label class="label">Add Art</label>
                                    <div class="inst" id="inst">i</div>
                                    <div style="display:none;" id="design_tooltip" class="tooltip"> 1. Ungroup does one level layering, so to do further layering, ungroup again until you can select the element you want to change color for. <br>
                                        <br>
                                        2. Select any layer to change color of complete layer. </div>
                                    <button id="tool_add_art_close"></button>
                                    <div class="input-area">
                                        <!--adding shape glyout-->
                                        <div id="tools_left" class="tools_panel">
                                            <div class="tool_button" id="tool_fhpath" title="Pencil Tool"></div>
                                            <div class="tool_button" id="tool_line" title="Line Tool"></div>
                                            <div class="tool_button flyout_current" id="tools_rect_show" title="Square/Rect Tool">
                                                <div class="flyout_arrow_horiz"></div>
                                            </div>
                                            <div class="tool_button flyout_current" id="tools_ellipse_show" title="Ellipse/Circle Tool">
                                                <div class="flyout_arrow_horiz"></div>
                                            </div>
                                            <div style="display: none; position:relative; border:1px solid">
                                                <div id="tool_rect" title="Rectangle"></div>
                                                <div id="tool_square" title="Square"></div>
                                                <div id="tool_fhrect" title="Free-Hand Rectangle"></div>
                                                <div id="tool_ellipse" title="Ellipse"></div>
                                                <div id="tool_circle" title="Circle"></div>
                                                <div id="tool_fhellipse" title="Free-Hand Ellipse"></div>
                                            </div>
                                        </div>
                                        <!--adding clipart panel-->
                                        <div class="field-raw" id="clipartCategory">
                                            <input type="hidden" id="firstclipartcat" name="firstclipartcat" value=""/>
                                        </div>
                                        <div class="scroll-area-chooseart">
                                            <div class="add-art-product">
                                                <ul id="clipartcontainer" class="art-list">
                                                </ul>
                                            </div>
                                            <div id="container_panel">
                                                <div class="tool_sep"></div>
                                                <label id="group_title" title="Group identification label" style="display:none;"> <span>label:</span>
                                                    <input id="g_title" data-attr="title" size="10" type="text"/>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </nav>
                            <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right" id="addtext-panel">
                                <div class="box-outer">
                                    <label class="label">Place your text</label>
                                    <div class="inst" id="inst_text">i</div>
                                    <div style="display:none;" id="inst_text_tooltip" class="tooltip"> 1. Select the text element and edit it further. </div>
                                    <button id="tool_place_text_close"></button>
                                    <div id="text_panel">
                                        <div>
                                            <!--<input id="text" type="text" size="25"/>-->
                                            <textarea id="text"></textarea>
                                            <button id="btnAddText" title="Add Text">Add Text</button>
                                        </div>
                                    </div>
                                </div>
                            </nav>
                            <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right" id="addtimage-panel">
                                <div class="box-outer">
                                    <label class="label">ADD IMAGE</label>

                                    <div style="display:none;" id="inst_image_tooltip" class="tooltip"> 1. Upload images from your local storage.<br>
                                        <br>
                                        2. Choose and click the image you want to use in design.<br>
                                        <br>
                                        3. You can resize and rotate the image further using editing controls. </div>
                                    <button id="tool_add_image_close"></button>
                                    <div class="upload-permission" align="center" >
                                        <input type="checkbox" id="ihavetheright">
                                        <label id="rightsCaption">I have the rights to use these images.</label>
                                        <div class="inst_image" id="inst_image">i</div>
                                    </div>
                                    <div class="button">
                                        <a class="uploadimage-btn-gallery" id="upload_img_show_gallery">Gallery</a>
                                        <div align="center" class="uploadimage-btn" >
                                            <button id="upload_img_show" type="button" class="disable_img" >
                                                <div id="uploadImageCaption">
<!--                                                    Upload Images-->
                                                </div>
                                            </button>
                                        </div>
                                        <div class="social-media-import-section"> <!--<a class="import_fb">Facebook</a>-->
                                            <a class="import_flickr">Flickr</a> <a class="import_picasa">Picasa</a>
                                            <a class="import_instagram">Instagram</a>
                                            <a id="qrCode" class="add_Qrcode">QRCode</a>
                                        </div>
                                        <?php /*?><div align="center" class="uploadimage-btn-gallery">
                                    <button id="upload_img_show_gallery" type="button" class="disable_img" ><div id="imageGalleryCaption">Images Gallery</div></button>
                                </div><?php */?>
                                        <div id="images_loaded"  class="range-blocks" style="display:none;">
                                            <div class="range-blocks">
                                                <div class="caption-section">
                                                    <div class="caption" id="imageGallerCaption">Image Gallery</div>
                                                </div>
                                            </div>
                                            <!--<div class="horLine"></div>-->
                                            <div class="listing scroll-area-uploadimage">
                                                <div class="tabcntent">
                                                    <ul id="flickerresult">
                                                    </ul>
                                                    <ul id="corporateImageWindowCon" style="display:none;">

                                                    </ul>
                                                </div>
                                            </div>
                                            <!--<div class="horLine"></div>-->
                                        </div>

                                    </div>
                                    <div id="image_panel">
                                        <div class="toolset_image" style="display:none;">
                                            <label><span id="iwidthLabel" class="icon_label"></span>
                                                <input id="image_width" class="attr_changer" title="Change image width" size="3" data-attr="width"/>
                                            </label>
                                            <label><span id="iheightLabel" class="icon_label"></span>
                                                <input id="image_height" class="attr_changer" title="Change image height" size="3" data-attr="height"/>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </nav>
                            <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right" id="addshape-panel">
                                <div class="box-outer">
                                    <label class="label">ADD SHAPES</label>
                                    <div class="inst" id="inst_shape">i</div>
                                    <div style="display:none;" id="inst_shape_tooltip" class="tooltip"> 1. Click any control to get more options.<br>
                                        <br>
                                        2. Please click the select pointer in left panel to exit shape mode.
                                    </div>
                                    <button id="tool_add_shape_close"></button>
                                    <div class="note-background">
                                        <!--<div id="tools_left" class="tools_panel">
                                          <div class="tool_button" id="tool_fhpath" title="Pencil Tool"></div>
                                          <div class="tool_button" id="tool_line" title="Line Tool"></div>
                                          <div class="tool_button flyout_current" id="tools_rect_show" title="Square/Rect Tool">
                                            <div class="flyout_arrow_horiz"></div>
                                          </div>
                                          <div class="tool_button flyout_current" id="tools_ellipse_show" title="Ellipse/Circle Tool">
                                            <div class="flyout_arrow_horiz"></div>
                                          </div>
                                          <div style="display: none; position:relative; border:1px solid">
                                            <div id="tool_rect" title="Rectangle"></div>
                                            <div id="tool_square" title="Square"></div>
                                            <div id="tool_fhrect" title="Free-Hand Rectangle"></div>
                                            <div id="tool_ellipse" title="Ellipse"></div>
                                            <div id="tool_circle" title="Circle"></div>
                                            <div id="tool_fhellipse" title="Free-Hand Ellipse"></div>
                                          </div>
                                        </div>-->
                                    </div>
                                    <br class="clear" />
                                    <br class="clear" />
                                </div>
                            </nav>
                            <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right" id="qrcode-panel">
                                <div class="box-outer">
                                    <label class="label">Qr Code</label>
                                    <div class="inst" id="inst_qrcode">i</div>
                                    <div style="display:none;" id="inst_qrcode_tooltip" class="tooltip">
                                        <!--1. <?php //echo $this->__('Click any control to get more options.');?><br><br>2. Please click the select pointer in left panel to exit shape mode.-->
                                        To place QR Code on your design, choose the type of information you wish to input. Fill in the information and then click the 'Generate' button. To place it on canvas, simply click on the generated QR Code image.
                                        <button onclick="$j('#inst_qrcode_tooltip').hide();" class="closebuttonclass">x</button>
                                    </div>
                                    <div class="scroll-area">
                                        <div class="qrcode-section">
                                            <div class="caption-section">
                                                <form id="qrcodeform" name="qrcodeform" method="POST" >
                                                    <ul id="qrcodecontainer" class="t-shirt-list">
                                                        <label id="qrcodeDataTypeCaption" class="caption">Select Data Type</label>
                                                        <select id="qrdatatype" name="qrdatatype" >
                                                            <option id="websiteUrl" selected="selected" value="1">Website URL</option>
                                                            <option id="youtubeVideo" value="2">YouTube Video</option>
                                                            <option id="plaintext" value="3">Plain Text</option>
                                                            <option id="emailAdd" value="4">Email Addres</option>
                                                            <!--<option value="5">Contatct Details (Vcard)</option>-->
                                                            <option id="telephone" value="6">Telephone Number</option>
                                                            <option id="emailMsg" value="7">Email Message</option>
                                                            <option id="socialMedia" value="8">Social Media</option>
                                                            <option id="gmap" value="9">Google Maps Location</option>
                                                        </select>
                                                        <div id="qr1">
                                                            <div class="inputfield">
                                                                <label id="websiteCaption" class="caption">Website URL:</label>
                                                                <input class="required-entry validate-url" type="text" name="websiteurl" id="websiteurl"/>
                                                            </div>
                                                        </div>
                                                        <div id="qr2">
                                                            <div class="inputfield">
                                                                <label id="videoIdCaption" class="caption">Video ID:</label>
                                                                <input class="validate-group  validate-number" type="text" name="youtube_video_id" id="youtube_video_id"/>
                                                            </div>
                                                            <div class="inputfield">
                                                                <label id="videoUrlCaption" class="caption">Video URL:</label>
                                                                <input class="validate-group validate-url" type="text" name="youtube_video_url" id="youtube_video_url"/>
                                                            </div>
                                                        </div>
                                                        <div id="qr3">
                                                            <div class="inputfield">
                                                                <label id="textCaption" class="caption">TEXT:</label>
                                                                <textarea class="required-entry" type="text" name="plaintextdata" id="plaintextdata"></textarea>
                                                            </div>
                                                        </div>
                                                        <div id="qr4">
                                                            <div class="inputfield">
                                                                <label id="emailaddreCaption" class="caption">Email Address:</label>
                                                                <input class="required-entry validate-email" type="text" name="email_address" id="emailaddress4"/>
                                                            </div>
                                                        </div>
                                                        <!--<div id="qr5">
                                                <div class="inputfield">
                                                    <label>First Name:</label>
                                                    <input class="required-entry" type="text" name="first_name" id="firstname5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>Last Name:</label>
                                                    <input class="required-entry" type="text" name="last_name" id="lasttname5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>Job Title:</label>
                                                    <input  type="text" name="job_title" id="jobtitle5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>Telephone no:</label>
                                                    <input class="validate-phoneStrict" type="text" name="telephone_no" id="telephoneno5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>Cell phone:</label>
                                                    <input class="validate-phoneStrict" type="text" name="job_title" id="jobtitle5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>Fax Number:</label>
                                                    <input class="validate-fax" type="text" name="fax_number" id="faxnumber5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>Email Address:</label>
                                                    <input class="validate-email" type="text" name="email_address" id="emailaddress5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>Website URL:</label>
                                                    <input class="validate-clean-url" type="text" name="website_url" id="vcardwebsiteurl5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>Organization:</label>
                                                    <input type="text" name="organization" id="organization5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>Street Address:</label>
                                                    <input type="text" name="street" id="street5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>City:</label>
                                                    <input type="text" name="city" id="city5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>State:</label>
                                                    <input type="text" name="State" id="State5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>Zip/Postcode:</label>
                                                    <input class="validate-zip" type="text" name="zip" id="zip5"/>
                                                </div>
                                                <div class="inputfield">
                                                    <label>Country:</label>
                                                    <input type="text" name="country" id="country5"/>
                                                </div>
                                             </div>-->
                                                        <div id="qr6">
                                                            <div class="inputfield">
                                                                <label id="telephoneCaption" class="caption">Telephone Number:</label>
                                                                <input class="required-entry validate-phoneStrict" type="text" name="telephone_no" id="telephoneno6"/>
                                                            </div>
                                                        </div>
                                                        <div id="qr7">
                                                            <div class="inputfield">
                                                                <label id="subjectCaption" class="caption">Subject:</label>
                                                                <input class="required-entry" type="text" name="subject" id="subject7"/>
                                                            </div>
                                                            <div class="inputfield">
                                                                <label id="bodyCaption" class="caption">Body:</label>
                                                                <textarea class="required-entry" name="message" type="text" id="body7" ></textarea>
                                                            </div>
                                                        </div>
                                                        <div id="qr8">
                                                            <div class="inputfield">
                                                                <label id="socialMediaCaption" class="caption">Social Media:</label>
                                                                <select  name="socialmedia8" id="socialmedia8" onchange="changetheprofilename()">
                                                                    <option id="twitterProfileCaption" value="sm1">Twitter Profile</option>
                                                                    <option id="facebookProfileCaption" value="sm2">Facebook Profile</option>
                                                                    <option id="myspaceProfileCaption" value="sm3">Myspace Profile</option>
                                                                    <option id="linkedlinProfileCaption" value="sm4">LinkedIn Profile</option>
                                                                </select>
                                                            </div>
                                                            <div class="inputfield">
                                                                <label id="profileCaption" class="caption">Profile:</label>
                                                                <input class="required-entry" type="text" name="Twitter Profile" id="profile8"/>
                                                            </div>
                                                        </div>
                                                        <div id="qr9">
                                                            <div class="inputfield">
                                                                <label id="gmaplocationCaption" class="caption">Google Maps Location:</label>
                                                                <input type="text" class="required-entry" name="google_map_location" id="googlemaplocation9"/>
                                                            </div>
                                                        </div>
                                                    </ul>
                                                    <div class="inputfield">
                                                        <label id="rqcodeColorCaption" class="caption">Color Code:</label>
                                                        <input type="text" name="qrcolorcode" id="qrcolorcode" class="color" value="#000000" >
                                                        <div class="color_tool" id="tool_qr_color">
                                                            <div class="color_block">
                                                                <div id="qr_stroke_bg"></div>
                                                                <div id="qr_color" class="color_block" title="Change Qr color"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <button id="tool_qrCode" type="submit" class="login-button">Generate</button>
                                                </form>
                                            <div>
                                                <ul id="QRcodeImage">
                                                    <!--data will come from ajax-->
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!--<div class="tips">
                                                          <h4>Designer Tips!</h4>
                                                          To place QR code on your design just choose the type of information you wisht to input and fill the information and then click on generate button.to place it on canvas to left just  click on generated qrcode image.
                                                      </div>-->
                                </div>
                            </nav>
                            <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right" id="designidea-panel">
                                <div class="box-outer">
                                    <label class="label">EDITABLE ARTWORK</label>
                                    <button id="tool_design_idea_close"></button>
                                    <div class="input-area">
                                        <div class="field-raw">
                                            <div class="product-type">
                                                <select class="select-small" id="designideaopt" autocomplete="off">
                                                    <?php
                                                    foreach($designCategoryArray as $key=>$resalbum)
                                                    {
                                                        ?>
                                                        <option value="<?php echo $key; ?>" id="design_cat_<?php echo $key;?>"><?php echo $resalbum;?></option>
                                                    <?php }
                                                    ?>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="scroll-area">
                                        <div class="tshirt-product">
                                            <ul id="designideacontainer" class="t-shirt-list">
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </nav>

                            <!--<nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right" id="photoBox-panel">
                              <div class="box-outer">
                                <div class="caption-section">
                                  <div id="photoBoxLabel" class="caption">Photo Box</div>
                                </div>
                                <div class="input-area">
                                  <div class="scroll-area"> <br class="clearer">
                                    <div class="tool_button" onclick="photoCollageExt.drawShapeOnCanvas('heart');"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><svg viewBox="-15 -15 330 330">
                                      <path fill="none" stroke="#000000" stroke-width="10" d="m150,73c61,-175 300,0 0,225c-300,-225 -61,-400 0,-225z"/>
                                      </svg></svg> </div>
                                    <div class="tool_button" title="cloud" onclick="photoCollageExt.drawShapeOnCanvas('cloud');"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><svg viewBox="-15 -15 330 330">
                                      <path fill="none" stroke="#000000" stroke-width="10" d="m182.05086,34.31005c-0.64743,0.02048 -1.27309,0.07504 -1.92319,0.13979c-10.40161,1.03605 -19.58215,7.63722 -24.24597,17.4734l-2.47269,7.44367c0.53346,-2.57959 1.35258,-5.08134 2.47269,-7.44367c-8.31731,-8.61741 -19.99149,-12.59487 -31.52664,-10.72866c-11.53516,1.8662 -21.55294,9.3505 -27.02773,20.19925c-15.45544,-9.51897 -34.72095,-8.94245 -49.62526,1.50272c-14.90431,10.44516 -22.84828,28.93916 -20.43393,47.59753l1.57977,7.58346c-0.71388,-2.48442 -1.24701,-5.01186 -1.57977,-7.58346l-0.2404,0.69894c-12.95573,1.4119 -23.58103,11.46413 -26.34088,24.91708c-2.75985,13.45294 2.9789,27.25658 14.21789,34.21291l17.54914,4.26352c-6.1277,0.50439 -12.24542,-0.9808 -17.54914,-4.26352c-8.66903,9.71078 -10.6639,24.08736 -4.94535,35.96027c5.71854,11.87289 17.93128,18.70935 30.53069,17.15887l7.65843,-2.02692c-2.46413,1.0314 -5.02329,1.70264 -7.65843,2.02692c7.15259,13.16728 19.01251,22.77237 32.93468,26.5945c13.92217,3.82214 28.70987,1.56322 41.03957,-6.25546c10.05858,15.86252 27.91113,24.19412 45.81322,21.38742c17.90208,-2.8067 32.66954,-16.26563 37.91438,-34.52742l1.82016,-10.20447c-0.27254,3.46677 -0.86394,6.87508 -1.82016,10.20447c12.31329,8.07489 27.80199,8.52994 40.52443,1.18819c12.72244,-7.34175 20.6609,-21.34155 20.77736,-36.58929l-4.56108,-22.7823l-17.96776,-15.41455c13.89359,8.70317 22.6528,21.96329 22.52884,38.19685c16.5202,0.17313 30.55292,-13.98268 36.84976,-30.22897c6.29684,-16.24631 3.91486,-34.76801 -6.2504,-48.68089c4.21637,-10.35873 3.96622,-22.14172 -0.68683,-32.29084c-4.65308,-10.14912 -13.23602,-17.69244 -23.55914,-20.65356c-2.31018,-13.45141 -11.83276,-24.27162 -24.41768,-27.81765c-12.58492,-3.54603 -25.98557,0.82654 -34.41142,11.25287l-5.11707,8.63186c1.30753,-3.12148 3.01521,-6.03101 5.11707,-8.63186c-5.93959,-8.19432 -15.2556,-12.8181 -24.96718,-12.51096z"/>
                                      </svg></svg> </div>
                                    <div class="tool_button" title="star" onclick="photoCollageExt.drawShapeOnCanvas('star_points_5');"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><svg viewBox="-15 -15 330 330">
                                      <path fill="none" stroke="#000000" stroke-width="10" d="m1,116.58409l113.82668,0l35.17332,-108.13487l35.17334,108.13487l113.82666,0l-92.08755,66.83026l35.17514,108.13487l-92.08759,-66.83208l-92.08757,66.83208l35.17515,-108.13487l-92.08758,-66.83026z"/>
                                      </svg></svg> </div>
                                    <div class="tool_button" title="circle" onclick="photoCollageExt.drawExtraShapes('circle');"> <svg height="24" width="24"><svg viewBox="-15 -15 330 330">
                                      <circle cx="140" cy="170" r="140"  fill="none" stroke="#000000" stroke-width="10" />
                                      </svg></svg> </div>
                                    <div class="tool_button" title="ellipse" onclick="photoCollageExt.drawExtraShapes('ellipse');"> <svg height="24" width="24"><svg viewBox="-15 -15 330 330">
                                      <ellipse cx="140" cy="170" rx="150" ry="100"  fill="none" stroke="#000000" stroke-width="10" />
                                      </svg></svg> </div>
                                    <div class="tool_button" title="rectangle" onclick="photoCollageExt.drawExtraShapes('rectangle');"> <svg height="24" width="24"><svg viewBox="-15 -15 330 330">
                                      <rect width="300" height="150" y="70" fill="none" stroke="#000000" stroke-width="10" />
                                      </svg></svg> </div>
                                    <div class="tool_button" title="square" onclick="photoCollageExt.drawExtraShapes('square');"> <svg height="24" width="24"><svg viewBox="-15 -15 330 330">
                                      <rect width="300" height="300" fill="none" stroke="#000000" stroke-width="10" />
                                      </svg></svg> </div>
                                  </div>
                                </div>
                              </div>
                            </nav>-->

                            <!-- common property panel -->
                            <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right" id="edit-panel">
                                <div class="box-outer">
                                    <label class="label">Edit Panel</label>
                                    <div class="inst" id="inst_edit_panel">i</div>
                                    <div style="display:none;" id="design_tooltip_edit_panel" class="tooltip"> 1. Ungroup does one level layering, so to do further layering, ungroup again until you can select the element you want to change color for. <br>
                                        <br>
                                        2. Select any layer to change color of complete layer. </div>
                                    <button id="tool_edit_close"></button>

                                    <!--<div id="images_loaded"  class="range-blocks listing scroll-area-uploadimage">
                                                      <div class="range-blocks">
                                                          <div class="caption-section">
                                                              <div class="caption" id="borderCaption">Image Gallery</div>
                                                          </div>
                                                      </div>
                                                      <div class="listing scroll-area-uploadimage"><div class="tabcntent"><ul id="flickerresult"></ul></div></div>
                                                  </div>-->
                                </div>
                            </nav>
                            <!-- /common property panel -->
                            <!-- common property -->
                            <nav class="ranger-panel cbp-spmenu-right" id="common-panel">
                                <div class="box-outer">
                                    <div class="range-blocks" style="overflow:hidden">
                                        <div class="co-tw-dl">
                                            <ul>
                                                <li id="tool_fill" > <span id="objectColorCaption" class="label">color</span>
                                                    <div class="color_tool" >
                                                        <div class="color_block singleColor">
                                                            <div id="fill_bg"></div>
                                                            <div id="fill_color" class="color_block" title="Change fill color"></div>
                                                        </div>
                                                        <div class="multiColorBlock"></div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="range-blocks image_quality">
                                        <div class="caption-section">
                                            <div id="inst_image_format" class="inst_image">i</div>
                                            <div id="printQualityCaption" class="caption">Print Quality</div>
                                        </div>
                                        <!--<div class="caption-section image_quality_tabs">
                                          <div id="inst_image_format" class="inst_image">i</div>
                                          <div id="printQualityCaption" class="caption-tabs active">Print Quality</div>
                                          <div id="imageEffectCaption" class="caption-tabs">Image Effect</div>
                                        </div>-->
                                        <div class="upload-mathod">
                                            <ul class="active">
                                                <li id="printQualityPoorCaption" class="not-reco active"><i></i> Poor</li>
                                                <li id="printQualityFairCaption" class="fair"><i></i> Fair</li>
                                                <li id="printQualityGoodCaption" class="luk-gud"><i></i> Good</li>
                                            </ul>
                                        </div>
                                        <div class="caption-section">
                                            <label class="caption" id="imageLabelCaption" style="display:none;">LABEL</label>
                                            <input type="text" id="imageLabel" name="imageLabel" style="display:none; width:80%;" />
                                        </div>
                                    </div>
                                    <div class="range-blocks image_effect">
                                        <div class="caption-section">
                                            <div id="imageEffectCaption" class="caption">Image Effect</div>
                                        </div>
                                    </div>

                                    <div id="sizeDiv" class="range-blocks no-margin">
                                        <div class="caption-section">
                                            <div id="objectSizeCaption" class="caption">POSITION / SIZE</div>
                                        </div>
                                        <div id="sizeSlider"></div>
                                    </div>

                                    <div class="range-blocks" id="border_box">
                                        <div class="caption-section">
                                            <div id="objectborderCaption" class="caption">BORDER</div>
                                            <input id="stroke_width" class="sliderValue" size="2" value="5" type="text" data-attr="Stroke Width" disabled="disabled"/>
                                            <div class="psright">
                                                <div class="left">
                                                    <label class="stroke_tool" >
                                                        <select id="stroke_style" title="Change stroke dash style">
                                                            <option selected="selected" value="none">&mdash;</option>
                                                            <option value="2,2">...</option>
                                                            <option value="5,5">- -</option>
                                                            <option value="5,2,2,2">- .</option>
                                                            <option value="5,2,2,2,2,2">- ..</option>
                                                        </select>
                                                    </label>
                                                </div>
                                                <div class="color_tool" id="tool_stroke">
                                                    <div class="color_block">
                                                        <div id="stroke_bg"></div>
                                                        <div id="stroke_color" class="color_block" title="Change stroke color"></div>
                                                    </div>
                                                    <div id="toggle_stroke_tools" title="Show/hide more stroke tools" style="display:none;"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="ranger-area">
                                            <div id="stroke_slider"></div>
                                        </div>
                                    </div>

                                    <div id="rotationDiv" class="range-blocks">
                                        <div class="caption-section">
                                            <div id="objectRotateCaption" class="caption">ROTATE</div>
                                            <input id="rotateAngle" class="sliderValue" size="3" value="100" type="text" disabled="disabled"/>
                                        </div>
                                        <div class="ranger-area">
                                            <div id="rotationSlider"></div>
                                        </div>
                                    </div>
                                    <div class="range-blocks" id="tool_curve">
                                        <div class="caption-section">
                                            <div id="objectCurveCaption" class="caption">CURVE</div>
                                            <input id="curveAngle" class="sliderValue" size="2" value="0" type="text" disabled="disabled"/>
                                            <div id="objectCurveReverseCaption" class="caption">REVERSE</div>
                                            <input id="curveInvert" class="" size="2" value="0" type="checkbox" />
                                        </div>
                                        <div class="border-box opacity-ranger">
                                            <div class="toolset_global">
                                                <div class="size-global-area">
                                                    <div id="curve_slider"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="textShapeDiv" class="range-blocks" style="overflow:none;">
                                        <div class="caption-section">
                                            <div class="caption" id="objectTextShapeCaption">TEXT SHAPES</div>
                                            <input type="text" disabled="disabled" value="100" size="3" class="sliderValue" id="shapeValue" autocomplete="off">
                                            <div class="curve-division">
                                                <div class="curve-property"></div>
                                                <div id="textShapeDD" class="wrapper-dropdown-2" style="clear: left;position: relative;width: 105px;"> <span id="textShapeSelected"><img src="<?php echo $jspath.'images/shape-none.jpg'; ?> " /></span> </div>
                                            </div>
                                        </div>
                                        <div class="ranger-area">
                                            <div id="textShapeSlider"></div>
                                        </div>
                                    </div>
                                    <div id="lineSpaceDiv" class="range-blocks">
                                        <div class="caption-section">
                                            <div id="objectLineSpaceCaptioon" class="caption">Line Spacing</div>
                                            <input id="lineHeight" class="sliderValue" size="3" value="100" type="text" disabled="disabled"/>
                                        </div>
                                        <div class="border-box opacity-ranger">
                                            <div class="toolset_global">
                                                <div class="size-global-area">
                                                    <div id="opacity_dropdown" class="dropdown">
                                                        <div id="lineSpaceSlider"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="range-blocks" id="tool_Move">
                                        <div class="caption-section">
                                            <div id="objectMoveCaption" class="caption">Move</div>
                                        </div>
                                        <div class="border-box opacity-ranger">
                                            <div class="toolset_global">
                                                <div class="size-global-area">

                                                    <div class="joystic-button">
                                                        <div class="toward-up">
                                                            <button id="upMove"><i class="fa fa-caret-up"></i></button>
                                                        </div>
                                                        <div class="toward-down">
                                                            <button id="downMove"><i class="fa fa-caret-down"></i></button>
                                                        </div>

                                                        <div class="toward-left">
                                                            <button id="leftMove"><i class="fa fa-caret-left"></i></button>
                                                        </div>
                                                        <div class="toward-right">
                                                            <button id="rightMove"><i class="fa fa-caret-right"></i></button>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            </nav>

                            <!-- /common property -->

                            <div class="align_icons" style="display:none;">
                                <ul  class="optcols3">
                                    <li class="push_button" id="tool_posleft" title="Align Left"></li>
                                    <li class="push_button" id="tool_poscenter" title="Align Center"></li>
                                    <li class="push_button" id="tool_posright" title="Align Right"></li>
                                    <li class="push_button" id="tool_postop" title="Align Top"></li>
                                    <li class="push_button" id="tool_posmiddle" title="Align Middle"></li>
                                    <li class="push_button" id="tool_posbottom" title="Align Bottom"></li>
                                </ul>
                                <div id="tool_align_relative" style="margin: 0px 2px 0px 5px;"> <span id="relativeToLabel">relative to:</span>
                                    <select title="Align relative to ..." id="align_relative_to" autocomplete="off">
                                        <option value="selected" id="selected_objects">selected objects</option>
                                        <option value="largest" id="largest_object">largest object</option>
                                        <option value="smallest" id="smallest_object">smallest object</option>
                                        <option value="page" id="page">Config Area</option>
                                    </select>
                                </div>
                            </div>
                            <div class="border-box" id="text_size_box" style="display:none">
                                <div class="size-bold-italic" >
                                    <div class="left">
                                        <div class="tool_button" id="tool_bold" title="Bold Text"></div>
                                    </div>
                                    <div class="right">
                                        <div class="tool_button" id="tool_italic" title="Italic Text"></div>
                                    </div>
                                </div>
                                <div class="text-align" >
                                    <div class="left">
                                        <div class="tool_button" id="text_align_left" title="Align Left"></div>
                                    </div>
                                    <div class="left">
                                        <div class="tool_button" id="text_align_center" title="Align Center"></div>
                                    </div>
                                    <div class="right">
                                        <div class="tool_button" id="text_align_right" title="Align Right"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="toolset_fontfamily" id="tool_font_family" style="display:none"><!-- Font family -->
                                <label id="chooseFontCaption">CHOOSE FONT</label>
                                <div tabindex="1" class="wrapper-dropdown-1" id="dd"> <span id="selectedFont">CHOOSE <strong>FONT </strong></span> </div>
                                <label id="textLabelCaption" style="display:none;">LABEL</label>
                                <input type="text" id="textLabel" name="textLabel" style="display:none;" />
                            </div>
                            <!-- <div class="priceTag">
                                              <div class="errornotinstock" id="errornotinstock"></div>
                                                <div class="rate" id="price"></div>
                                              <button id="addtocart_btn"  title="Add To Cart"><div><span class="crt">&nbsp;</span><i>Add to cart</i></div></button>
                                         </div>-->
                        </section>
                        <!-- right-panel-property -->
                    </section>
                    <section class="left-panel">
                        <div class="button-area">
                            <ul>
                                <li>
                                    <button id="layerPanel" title="Layer Panel">
                                        <div><i class="lt_layerPanel">&nbsp;</i></div>
                                    </button>
                                </li>
                                <li>
                                    <button id="alignPanel" class="disabled" title="Align Panel">
                                        <div><i class="lt_alignPanel">&nbsp;</i></div>
                                    </button>
                                </li>
                                <li>
                                    <!--<div id="multiselected_panel">-->
                                    <button id="tool_group" class="disabled" title="Group">
                                        <div><i class="lt_tool_group">&nbsp;</i></div>
                                    </button>
                                    <!--</div>
                                                  <div id="g_panel">-->
                                    <button id="tool_ungroup" title="Ungroup" class="disabled" style="display:none">
                                        <div><i class="lt_tool_ungroup">&nbsp;</i></div>
                                    </button>
                                    <!--</div>-->

                                </li>
                                <!-- <li>
                                   <button id="addNote"  title="Add Note">
                                   <div><i class="lt_addNote">&nbsp;</i></div>
                                   </button>
                                 </li>-->
                                <!--<li><button id="tool_move_b" title="Send to Back"><div><span class="icon-5">&nbsp;</span></div></button></li>
                                                <li><button id="tool_move_t" title="Bring to Front"><div><span class="icon-6">&nbsp;</span></div></button></li>-->

                                <li>
                                    <button id="tool_undo_custom" title="Undo">
                                        <div><i class="lt_tool_undo">&nbsp;</i></div>
                                    </button>
                                </li>
                                <li>
                                    <button id="tool_redo_custom" title="Redo">
                                        <div><i class="lt_tool_redo">&nbsp;</i></div>
                                    </button>
                                </li>
                                <li>
                                    <button id="tool_flipHoriz" title="Flip Horizontal" class="disabled">
                                        <div><i class="lt_tool_flipH">&nbsp;</i></div>
                                    </button>
                                </li>
                                <li>
                                    <button id="tool_flipVert" title="Flip Vertical" class="disabled" >
                                        <div><i class="lt_tool_flipV">&nbsp;</i></div>
                                    </button>
                                </li>
                                <!--<li>
                                                    <div class="push_button" id="tool_clone" title="Duplicate"></div>
                                                </li>
                                                <li>
                                                    <div class="color_tool" id="tool_opacity_delete" title="Delete">
                                                        <button title="Delete Element" id="tool_delete"><div><span class="icon-10">&nbsp;</span></div></button>
                                                    </div>
                                                </li>-->

                                <li>
                                    <button id="tool_delete" class="disabled" title="Delete">
                                        <div><i class="lt_tool_delete">&nbsp;</i></div>
                                    </button>
                                </li>
                                <li>
                                    <button id="tool_clone" title="Duplicate" class="disabled">
                                        <div><i class="lt_tool_clone">&nbsp;</i></div>
                                    </button>
                                </li>
                                <li>
                                    <button id="tool_cut" title="Cut">
                                        <div><i class="lt_tool_cut">&nbsp;</i></div>
                                    </button>
                                </li>
                                <li>
                                    <button id="tool_copy" title="Copy">
                                        <div><i class="lt_tool_copy">&nbsp;</i></div>
                                    </button>
                                </li>
                                <li>
                                    <button id="tool_paste" title="Paste" class="disabled">
                                        <div><i class="lt_tool_paste">&nbsp;</i></div>
                                    </button>
                                </li>
                                <li>
                                    <button id="tool_clear" title="Delete All">
                                        <div><i class="lt_tool_clear">&nbsp;</i></div>
                                    </button>
                                </li>
                                <li>
                                    <button title="Studio Help" id="Help">
                                        <div><i class="lt_tool_help">&nbsp;</i></div>
                                    </button>
                                </li>
                            </ul>
                        </div>
                        <!-- Object align Panel -->
                        <!--<div id="objectLayer" class="object-layer" align="center">
                                        <ul>
                                            <li><span class="layer_top">&nbsp;</span></li>
                                            <li><span class="layer_up">&nbsp;</span></li>
                                            <li><div class="layer_sign">&nbsp;</div></li>
                                            <li><span class="layer_down">&nbsp;</span></li>
                                            <li><span class="layer_bottom">&nbsp;</span></li>
                                        </ul>
                                    </div>-->
                    </section>
                    <div id="zoomOptions" style="display:none">
                        <input class="inputBoxMedium" id="zoom" size="3" value="100" type="text" style="display:none" />
                        <ul>
                            <li>400%</li>
                            <li>200%</li>
                            <li>100%</li>
                            <li>50%</li>
                            <li>25%</li>
                            <li id="fit_to_canvas" data-val="canvas">Fit to canvas</li>
                            <li id="fit_to_sel" data-val="selection">Fit to selection</li>
                            <!--<li id="fit_to_layer_content" data-val="layer">Fit to layer content</li>-->
                            <li id="fit_to_all" data-val="content">Fit to screen</li>
                        </ul>
                    </div>
                    <!--<section class="bottom-share-panel" style="display:none;">
                                  <div class="button-area">
                                      <ul><li><button id="tool_group" title="Group"></button></li></ul>
                                  </div>
                              </section>-->
                    <div id="productName"></div>
                    <section class="product-area"> <!-- SVG Editor -->
                        <form id="manage_side" method="post">
                            <input type="hidden" value="2" id="number_of_pages" name="number_of_pages" autocomplete="off">
                            <!--<input type="hidden" value="1" id="current_page" name="current_page" autocomplete="off">          -->
                            <div style="display:none;" title="" id="pages_data"> <?php echo $text_area; ?> </div>
                            <!--<textarea id="textsvg_1" name="textsvg_1" style="display:none" spellcheck="false"><?php //echo htmlspecialchars($save_str); ?></textarea>-->
                            <img id="tool_front_image" style="display:none" height="30" width="30" src="<?php echo $Image[1]; ?>"/>
                            <textarea id="svg_source_textarea" style="display:none" spellcheck="false"></textarea>
                        </form>
                        <div id="svg_editor">
                            <div id="rulers" style="display:none"><!-- Ruler will display if showRulers is true in svgEditor.setConfig   -->
                                <div id="ruler_corner"></div>
                                <div id="ruler_x">
                                    <div>
                                        <canvas height="15"></canvas>
                                    </div>
                                </div>
                                <div id="ruler_y">
                                    <div>
                                        <canvas width="15"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div id="workarea">
                                <style id="styleoverrides" type="text/css" media="screen" scoped="scoped">
                                </style>
                                <div id="svgcanvas" style="position:relative">
                                    <div id="product-image" >
                                        <svg id="productSvg" height="485" width="400" viewBox="0 0 400 485" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                            <defs>
                                                <filter id="colorMat" color-interpolation-filters="sRGB">
                                                    <feColorMatrix values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0" type="matrix" id="feColorMatrix"></feColorMatrix>
                                                </filter>
                                            </defs>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <div class="clear"></div>
                    <nav class="" id="pickcolor-panel">
                        <div class="">
                            <?php /*?><label class="label">PICK COLOR</label><?php */?>
                            <button id="tool_pick_color_close"></button>
                            <div id="prevColor" class="button"><i class="fa fa-chevron-circle-left"></i></div>
                            <div class="gallery">
                                <ul class="pickcolor-list">
                                    <?php //echo $pickcolorarray;?>
                                </ul>
                                <!-- show colors -->
                                <input type="hidden" value="<?php //echo $colorId; ?>" name="current_product_colorid" id="current_product_colorid" />
                                <input type="hidden" value="<?php //echo $currentcolohash; ?>" name="current_product_colorhash" id="current_product_colorhash" />
                            </div>
                            <div id="nextColor" class="button"><i class="fa fa-chevron-circle-right"></i></div>
                        </div>
                    </nav>
                    <div id="configAreaPanel" style="display:none;">
                        <div class="move-object-panel dragablePanel">
                            <div class="mop-heading">Change Config Area</div>
                            <div class="ranges-content">

                            </div>
                        </div>
                    </div>
                    <div id="objectLock" class="dragablePanel" align="center" style="display:none;">
                        <div class="move-object-panel">
                            <div class="mop-heading">Lock / Unlock</div>
                            <div class="lock-unlock-range" align="center"></div>
                        </div>
                    </div>
                    <!--<div id="transformPanel">
                                      <div class="move-object-panel dragablePanel">
                                          <div class="mop-heading"><span class="mop-close">x</span></div>
                                          <div class="ranges-content">
                                              <div class="moving-knob">
                                                  <input id="knobAngle" class="knob" data-step="1" data-displayprevious=true data-min="0" data-max="360" data-width="65" data-cursor=true  value="0">
                                              </div>
                                              <div class="joystic-button">
                                                  <div class="toward-up"><button id="upMove"><span>&nbsp;</span></button></div>
                                                  <div class="toward-left"><button id="leftMove"><span>&nbsp;</span></button></div>
                                                  <div class="toward-down"><button id="downMove"><span>&nbsp;</span></button></div>
                                                  <div class="toward-right"><button id="rightMove"><span>&nbsp;</span></button></div>
                                              </div>
                                          </div>
                                  </div>
                              </div>-->

                </div>
            </div>
            <div class="clear"></div>
        </div>
        <div class="footer-corner">
            <div>
                <div>&nbsp;</div>
            </div>
        </div>
        <div id="use_panel" style="display:none">
            <div class="push_button" id="tool_unlink_use" title="Break link to reference element (make unique)"></div>
        </div>
        <div id="svg_prefs">
            <div id="svg_prefs_overlay"></div>
            <div id="svg_prefs_container">
                <div id="tool_prefs_back" class="toolbar_button">
                    <button id="tool_prefs_save">OK</button>
                    <button id="tool_prefs_cancel">Cancel</button>
                </div>
                <fieldset>
                    <legend id="svginfo_editor_prefs">Editor Preferences</legend>
                    <fieldset id="change_background">
                        <legend id="svginfo_change_background">Editor Background</legend>
                        <div id="bg_blocks"></div>
                        <label><span id="svginfo_bg_url">URL:</span>
                            <input type="text" id="canvas_bg_url"/>
                        </label>
                        <p id="svginfo_bg_note">Note: Background will not be saved with image.</p>
                    </fieldset>
                    <fieldset id="change_grid">
                        <legend id="svginfo_grid_settings">Grid</legend>
                        <label><span id="svginfo_snap_onoff">Snapping on/off</span>
                            <input type="checkbox" value="snapping_on" id="grid_snapping_on">
                        </label>
                        <label><span id="svginfo_snap_step">Snapping Step-Size:</span>
                            <input type="text" id="grid_snapping_step" size="3" value="10"/>
                        </label>
                    </fieldset>
                    <fieldset id="units_rulers">
                        <legend id="svginfo_units_rulers">Units & Rulers</legend>
                        <label><span id="svginfo_rulers_onoff">Show rulers</span>
                            <input type="checkbox" value="show_rulers" id="show_rulers">
                        </label>
                        <label> <span id="svginfo_unit">Base Unit:</span>
                            <select id="base_unit">
                                <option value="px">Pixels</option>
                                <option value="cm">Centimeters</option>
                                <option value="mm">Millimeters</option>
                                <option value="in">Inches</option>
                                <option value="pt">Points</option>
                                <option value="pc">Picas</option>
                                <option value="em">Ems</option>
                                <option value="ex">Exs</option>
                            </select>
                        </label>
                    </fieldset>
                </fieldset>
            </div>
        </div>
        <div id="dialog_box">
            <div class="global_overlay"></div>
            <div id="dialog_container" class="global_popup_box" style="width: 380px;height: 250px;">
                <div class="save-icon"><i class="fa fa-hand-paper-o"></i></div>
                <div id="dialog_content" align="center"></div>
                <div id="dialog_buttons" align="center"></div>
            </div>
        </div>
        <?php /*
<!--<ul id="cmenu_canvas" class="contextMenu">
		<li><a href="#cut"><?php echo Mage::helper('design')->__('Cut');?></a></li>
		<li><a href="#copy"><?php echo Mage::helper('design')->__('Copy'); ?></a></li>
		<li><a href="#paste"><?php echo Mage::helper('design')->__('Paste');?></a></li>
		<li><a href="#paste_in_place"><?php echo Mage::helper('design')->__('Paste in Place');?></a></li>
		<li class="separator"><a href="#delete"><?php echo Mage::helper('design')->__('Delete');?></a></li>
		<li class="separator"><a href="#group"><?php echo Mage::helper('design')->__('Group');?></a></li>
		<li><a href="#ungroup"><?php echo Mage::helper('design')->__('Ungroup');?></a></li>
		<li class="separator"><a href="#move_front"><?php echo Mage::helper('design')->__('Bring to Front');?></a></li>
		<li><a href="#move_up"><?php echo Mage::helper('design')->__('Bring Forward');?></a></li>
		<li><a href="#move_down"><?php echo Mage::helper('design')->__('Send Backward');?></a></li>
		<li><a href="#move_back"><?php echo Mage::helper('design')->__('Send to Back');?></a></li>
	</ul>-->
	*/ ?>
        <div id="svg_docprops" style="display:none;">
            <div id="svg_docprops_overlay"></div>
            <div id="svg_docprops_container" class="ui-draggable">
                <div id="tool_docprops_back" class="toolbar_button">
                    <button id="tool_docprops_cancel"></button>
                </div>
                <p id="productNameInfo" class="headingtwo"></p>
                <div class="proimage">
                    <p id="productColor" class="popupheading clr p5">Colors</p>
                    <div align="center" style="margin:auto; overflow-x:hidden;overflow-y:auto; height:110px; width:450px;">
                        <ul class="colorpalet">
                            <?php //echo $pickcolor_multi; ?>
                        </ul>
                    </div>
                </div>
                <div class="prodescription">
                    <p id="productInformation" class="popupheading">Detail Information</p>
                    <p id="productSku" class="cotxt"><strong>SKU :</strong></p>
                    <p id="productShortDesc" class="cotxt"><strong>Short Description :</strong></p>
                    <p id="productDesc" class="cotxt"><strong>Long Description :</strong></p>
                </div>
            </div>
        </div>
        <div id="svg_image_upload" style="display:none;">
            <div class="global_overlay"></div>
            <div class="svg_image_upload_container global_popup_box"  style="width:520px; height:430px;">
                <div class="toolbar_button">
                    <button onclick="closeMe(this);" class="close-window-positoin"></button>
                </div>
                <p id="addImagePopupcaption" class="new-heading pop-heading-line">ADD IMAGE</p>
                <div id="uploader">
                    <div id="filelist" class="panel">No runtime found.</div>
                    <p>Your browser doesn't have Flash, Silverlight or HTML5 support.</p>
                </div>
            </div>
        </div>
        <div id="svg_add_note">
            <div id="svg_add_note_overlay"></div>
            <div id="svg_add_note_container" class="ui-draggable">
                <div id="tool_addnote_back" class="toolbar_button">
                    <button id="tool_addnote_cancel"></button>
                </div>
                <p class="headingtwo">Add Note</p>
                <fieldset>
                    <textarea name="addnote" id="addnote"></textarea>
                    <input type="hidden" name="addnotehidden" id="addnotehidden"/>
                    <button type="button" class="cobutton addnotebutton right" onclick="addnote()"><span>Add Note</span></button>
                    <span id="addnoteresults"></span>
                </fieldset>
            </div>
        </div>
        <div id="svg_beforeaddtocart">
            <div id="svg_beforeaddtocart_overlay"></div>
            <div id="svg_beforeaddtocart_container" class="ui-draggable">
                <div id="tool_beforeaddtocart_back" class="toolbar_button">
                    <button id="tool_beforeaddtocart_cancel"></button>
                </div>
                <p id="addToCartCaption" class="headingtwo">ADD TO CART</p>
                <div class="search">
                    <div class="message" id="addtocartmessage"></div>
                    <div class="proceedbtn">
                        <button class="cobutton proceedto prcadcart" type="button" id="cartProceed" onclick="$j('#svg_beforeaddtocart').hide();addtocart();">Proceed</button>
                        <!--<input class="cobutton proceedto prcadcart" type="button"  value="Proceed" onclick="$j('#svg_beforeaddtocart').hide();addtocart();"/>-->
                    </div>
                </div>
            </div>
        </div>
        <div id="imageEffect_window" style="display:none;">
            <div class="global_overlay"></div>
            <div class="global_popup_box" style="width:852px; max-height:830px;">
                <div class="toolbar_button" >
                    <button onClick="closeMe(this);" class="close-window-positoin"></button>
                </div>
                <p class="new-heading pop-heading-line" id="imageEffectPopupCaption">Image Effect</p>
                <div>
                    <div>
                        <div id="ie_preview"></div>
                        <div class="filters-button">
                            <div class="tabCon"> <span id="tabShapes">Mask</span> <span id="tabFilters">Effects</span> <span id="tabColors">Custom Effects</span> </div>
                            <div class="clearer">&nbsp;</div>
                            <div>
                                <div id="ie_shapes" class="photo_filters_option"></div>
                                <div id="ie_filters" class="photo_filters_option" style="display:none;"></div>
                                <div id="ie_colorChanger" class="photo_filters_option" style="display:none;">
                                    <div class="colorCon"> </div>
                                </div>
                            </div>
                        </div>
                        <div class="buttonHolder"> </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="pickDesignColor_window" style="display:none;">
            <div class="global_overlay" style="z-index:21;"></div>
            <div class="global_popup_box" style="width: 700px; height:556px; z-index:21;">
                <div class="toolbar_button" >
                    <button onClick="closeMe(this);" class="close-window-positoin"></button>
                </div>
                <p class="new-heading pop-heading-line" id="pickDesignColorCaption">Pick Color From Design</p>
                <div>
                    <div style="text-align:center;">
                        <canvas id="pickDesignColorCanvas" width="500" height="400"></canvas>
                    </div>
                    <div class="pickDesignColorContainer">
                        <div><span id="colorUnderCursor">Color Under Cursor:</span><span class="colorSwatchMouseMove"></span></div>
                        <div><span id="selectedColor">Selected Color:</span><span class="colorSwatch"></span></div>
                        <div>
                            <input id="pickDesignColorButton" type="button" class="" value="Pick Color"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="image_quality_window" style="display:none;">
            <div class="global_overlay"></div>
            <div class="global_popup_box" style="width:520px; height:255px;">
                <div class="toolbar_button" >
                    <button onclick="closeMe(this);" class="close-window-positoin"></button>
                </div>
                <div class="save-icon">
                    <i class="fa fa-image"></i>
                </div>
                <p class="new-heading pop-heading-line" id="imageQualityInfoCaption">About Your Image Print Quality</p>
                <div class="window_content">
                    <div id="imageQualityInfoContent">
                        <!--content goes here-->
                        The image quality indicator lets you know if the image you have loaded has the right resolution for printing. If your image quality is poor we recommend that you upload a new image with higher resolution. Our graphics team checks every image submitted for resolution and quality requirements. </div>
                </div>
            </div>
        </div>
        <div id="importTemplate_window" style="display:none;">
            <div class="window_overlay"></div>
            <div class="window_container">
                <div class="toolbar_button" >
                    <button onclick="closeMe(this);">
                        X
                </div>
                <p class="headingtwo" id="editTextPopupCaption">Edit Text</p>
                <div>
                    <div id="editor-container"></div><p id="importSvgInstruction">Please remove red colored text and click on button below.</p>
                    <button id="btnAddUpdateSvg" class="btn" title="Add Text">Add/Update Template</button>
                </div>
            </div>
        </div>
        <div id="upload_info_window" style="display:none;">
            <div class="global_overlay"></div>
            <div class="global_popup_box" style="width:520px; height:335px;">
                <div class="image-upload-image" align="left"></div>
                <div class="toolbar_button" >
                    <button onClick="closeMe(this);" class="close-window-positoin"></button>
                </div>
                <p class="new-heading pop-heading-line a-left" id="uploadImageInfoPopupCaption">Upload Info</p>
                <div class="window_content">
                    <div>
                        <!--content goes here-->
                        <div class="buttons">
                            <div class="image-upload-section" align="left">
                                <div class="image-upload-block">
                                    <div id="supportedFormatCaption"> <b class="image-instruction-heading">Supported formats</b> 1) jpeg 2) jpg 3) png </div>
                                </div>
                                <div class="image-upload-block">
                                    <div id="optimalResolutionCaption"> <b class="image-instruction-heading">Optimal resolution</b> 1500 x 1500 Pixel </div>
                                </div>
                                <div class="image-upload-block">
                                    <div id="recommendedSizeCaption"> <b class="image-instruction-heading">Recommended size</b> Less than 5 mb </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="svg_save_design_window" style="display:none;">
            <div class="global_overlay">&nbsp;</div>
            <div class="global_popup_box" style="width:340px; height:270px;">

                <div class="toolbar_button">
                    <button onclick="closeMe(this);" class="close-window-positoin"></button>
                </div>
                <div class="save-icon"><i class="fa fa-heart-o"></i></div>
                <p id="saveDesignCaption" class="new-heading">Save Your Design</p>
                <div class="save-design-table">
                    <div class="save-design" >
                        <label id="designDetailsCaption" class="table-hd-cap">Design Details</label>
                        <form>
                            <fieldset>
                                <div class="div-table">
                                    <div class="div-table-row">
                                        <div class="div-table-cell">
                                            <label id="designNameCaption">Design Name</label>
                                        </div>
                                        <div class="div-table-cell">
                                            <input type="text" name="design_name" id="design_name" />
                                        </div>
                                    </div>
                                </div>

                                <div class="div-table-row">
                                    <div class="div-table-cell"><label  style="color:#fff;width:118px;">Design </label></div>
                                    <div class="div-table-cell">
                                        <div class="proceedbtn">
                                            <button class="generalbutton" name="btn_save_design" type="submit" id="btn_save_design">Submit</button>
                                        </div>
                                    </div>
                                </div>

                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div id="facebook_window">
            <div id="facebook_window_overlay"></div>
            <div id="facebook_window_container" class="ui-draggable">
                <div class="toolbar_button">
                    <button onclick="closeMe(this);" class="close-window-positoin"></button>
                </div>
                <p id="facebookUploadCaption" class="headingtwo">Upload your facebook photos</p>
                <div class="save-design-table">
                    <select id="facebook_select">
                    </select>
                    <div class="fb_holder"></div>
                </div>
            </div>
        </div>

        <!--<div id="corporateImage_window" style="display:none;">
          <div class="global_overlay"></div>
          <div class="global_popup_box" style="width:600px; height:500px;">
            <div class="toolbar_button" >
              <button onclick="closeMe(this);" class="close-window-positoin"></button>
            </div>
            <p class="new-heading pop-heading-line" id="corporateImageWindowCaption">Corporate Images</p>
            <div>
                <div style="display:none;"><span>Corporate Store: </span><select id="corporateStoreDD"> </select></div>
                <div id="corporateImageWindowCon" class="flickr_holder"> </div>
            </div>
          </div>
        </div>-->

        <div id="flickr_window">
            <div class="global_overlay"></div>
            <div id="flickr_window_container" class="global_popup_box" style="width: 625px; height: 554px;">
                <div class="toolbar_button">
                    <button onclick="closeMe(this);" class="close-window-positoin"></button>
                </div>
                <p id="flickrUploadCaption" class="new-heading pop-heading-line">Upload your flickr photos</p>
                <div class="save-design-table">
                    <input type="text" size="25" id="flicker_import" autocomplete="on">
                    <input type="button" value="GO!" class="enter" id="flicker_go">

                    <div id="flickr_pager"></div>
                    <div class="flickr_holder"></div>
                </div>
            </div>
        </div>

        <div id="picasa_window">
            <div class="global_overlay"></div>
            <div id="picasa_window_container" class="global_popup_box" style="width:600px; height:500px;">
                <div class="toolbar_button">
                    <button onclick="closeMe(this);" class="close-window-positoin"></button>
                </div>
                <p id="picasaUploadCaption" class="new-heading pop-heading-line">Upload your picasa photos</p>
                <div class="save-design-table">
                    <input type="text" size="25" id="picasa_import" autocomplete="on">
                    <input type="button" value="GO!" class="enter" id="picasa_go">

                    <div class="picasa_holder"></div>
                </div>
            </div>
        </div>

        <div id="instagram_window" style="display:none">
            <div id="instagram_window_overlay"></div>
            <div id="instagram_window_container" class="">
                <div class="toolbar_button">
                    <button onclick="closeMe(this);" class="close-window-positoin"></button>
                </div>
                <p id="instagramUploadCaption" class="headingtwo">Upload your Instagram photos</p>
                <div class="save-design-table">
                    <!--<a class="prev srbutton2">prev</a>
                                  <a class="next srbutton2">next</a>-->
                    <div class="pager"> <a class="prev start-page">&larr; prev</a> <a class="next end-page">next &rarr;</a> </div>
                    <!--<div id="import_error"></div>-->
                    <div class="instagram_holder"></div>
                </div>
            </div>
        </div>
        <div id="preview_window">
            <div id="preview_window_overlay" class="global_overlay"></div>
            <div id="preview_window_container" class="global_popup_box" style="width:700px;height:640px;">
                <div class="toolbar_button">
                    <!--<a href="#" onclick="javascript:downloadPreview(); void(0);" id="downloadPreviewCaption" class="download-preview">Download Preview </a>-->
                    <button onclick="closeMe(this);" class="close-window-positoin"></button>
                </div>
                <p id="previewPopupCaption" class="new-heading pop-heading-line">Preview</p>
                <div class="save-design-table">
                    <div class="preview_holder"></div>
                </div>
            </div>
        </div>

         
<?php
$color = "#000000";
$secondary_color = "#FFFFFF";
// $theme = Mage::helper('porto');
// $d = $theme->getCfgSectionDesign(Mage::registry('cssgen_store'));
// if($d['basic']['theme_color']){
// 	$color = $d['basic']['theme_color'];
// }
echo "<style>";
echo ' a, .left-share-panel .button-area ul li button div span.caption, .right-share-panel .button-area > button div span.caption, 
.center-share-panel .object-align div span.caption, .right-share-panel .button-area ul li button div span.caption, .btn-large .caption,
#pickcolor-panel #prevColor, #pickcolor-panel #nextColor,
.wrapper-dropdown-1 .dropdown li a,.save-icon i{color:'.$color.'}
.flickr_holder .photo img:hover,.flickr_holder .photo img:active,.instagram_holder .photo img:hover,.instagram_holder .photo img:active,
.bgImage_holder .photo img:hover,.bgImage_holder .photo img:active{border:2px solid '.$color.'}

.right-panel button:hover div.caption,.right-panel button.active div.caption{color:'.$secondary_color.'}

.loader{border-top:16px solid '.$color.'}

.main_dt>section.bottom-share-panel ul li button, section.right-panel button, .right-panel button,.left-panel ul li button,#btnAddText,.button-designsave,
.ui-slider-handle,button.blueBtn,#btnEditText,.tabCon > span:hover,.tabCon > span.active,.image_quality_tabs .caption-tabs.active,
.joystic-button button,.vdp_left button,.vdp_right button,.import_vdp_holder>button,
#importVdpDataBtn,.import_vdp_holder>a,.file-upload,.globalcolor,.ui-slider-horizontal .ui-slider-range-min, div.download_data_csv_btn {background:'.$color.'!important;}

.dot1, .dot2, #dialog_buttons input[type="button"], .generalbutton,.generalbutton:hover, #fb_go:hover, #picasa_go:hover, #flicker_go:hover, .save-design-button:hover, .image_quality_tabs .caption-tabs:hover, 
.joystic-button button:hover, #btnAddText:hover, #dialog_buttons input[type="button"]:hover, .login-button:hover, .save-design-button:hover, 
.login-button, .save-design-button,#dialog_buttons input[type=button]:hover,.login-button:hover,.save-design-button:hover,.prcadcart:hover,.onoffswitch-inner:before, .previewZoomButton .active,
.costing .rate,.priceTag,.prcadcart,#fb_go,#picasa_go,#flicker_go, #saveDesignerDesign, .move-object-panel .mop-heading {background-color: '.$color.';}

.close-window-positoin svg{fill:'.$color.';}

.cbp-spmenu-horizontal a	{border-left:1px solid '.$color.'}
.wraper_dt					{border-top:1px solid '.$color.';}
section.right-panel,
.right-panel				{border-bottom:1px solid '.$color.';}
#white{border-bottom:1px solid '.$color.';}
.pickcolor-list li,
#addtocartmessage div.clr ul li div.size_number,
#addtocartmessage div.clr ul li div.size_name {border-color: '.$color.'}
.object-align ul li,
.inst_image 				{border:1px solid '.$color.';color:'.$color.';}';



echo "</style>";

?>

        <script>
//            var pos_x = new Array();
//            var pos_y = new Array();
//            var design_area_width = new Array();
//            var design_area_height = new Array();
//            var outputWidth = new Array();
//            var outputHeight = new Array();
//            for(var i=1; i<=no_of_side; i++)
//            {
//                if(i == 1)
//                {
//                    <?php //if(array_key_exists('front',$design_area_arr)) {?>
//                    pos_x[i] = <?php //echo $design_area_arr['front'][0]*15; ?>//;
//                    pos_y[i] = <?php //echo $design_area_arr['front'][1]*15; ?>//;
//                    design_area_width[i] = <?php //echo $design_area_arr['front'][2]*15;?>//;
//                    design_area_height[i] = <?php //echo $design_area_arr['front'][3]*15;?>//;
//                    outputWidth[i] = '<?php //echo $design_area_arr['front'][4];?>//';
//                    outputHeight[i] = '<?php //echo $design_area_arr['front'][5];?>//';
//                    <?php //}?>
//                }
//                else if(i == 2)
//                {
//                    <?php //if(array_key_exists('back',$design_area_arr)) {?>
//                    pos_x[i] = <?php //echo $design_area_arr['back'][0]*15; ?>//;
//                    pos_y[i] = <?php //echo $design_area_arr['back'][1]*15; ?>//;
//                    design_area_width[i] = <?php //echo $design_area_arr['back'][2]*15;?>//;
//                    design_area_height[i] = <?php //echo $design_area_arr['back'][3]*15;?>//;
//                    outputWidth[i] = '<?php //echo $design_area_arr['back'][4];?>//';
//                    outputHeight[i] = '<?php //echo $design_area_arr['back'][5];?>//';
//                    <?php //}?>
//                }
//                else if(i == 3)
//                {
//                    <?php //if(array_key_exists('left',$design_area_arr)) {?>
//                    pos_x[i] = <?php //echo $design_area_arr['left'][0]*15; ?>//;
//                    pos_y[i] = <?php //echo $design_area_arr['left'][1]*15; ?>//;
//                    design_area_width[i] = <?php //echo $design_area_arr['left'][2]*15;?>//;
//                    design_area_height[i] = <?php //echo $design_area_arr['left'][3]*15;?>//;
//                    outputWidth[i] = '<?php //echo $design_area_arr['left'][4];?>//';
//                    outputHeight[i] = '<?php //echo $design_area_arr['left'][5];?>//';
//                    <?php //}?>
//
//                }
//                else if(i == 4)
//                {
//                    <?php //if(array_key_exists('right',$design_area_arr)) {?>
//                    pos_x[i] = <?php //echo $design_area_arr['right'][0]*15; ?>//;
//                    pos_y[i] = <?php //echo $design_area_arr['right'][1]*15; ?>//;
//                    design_area_width[i] = <?php //echo $design_area_arr['right'][2]*15;?>//;
//                    design_area_height[i] = <?php //echo $design_area_arr['right'][3]*15;?>//;
//                    outputWidth[i] = '<?php //echo $design_area_arr['right'][4];?>//';
//                    outputHeight[i] = '<?php //echo $design_area_arr['right'][5];?>//';
//                    <?php //}?>
//                }
//
//            }

            var mycanvas;

            $j(document).ready(function(){
                // loadData();
                svgEditor.ready(function() {
                    svgEditor.canvas.setSvgString($j("#textsvg_1").val());
                    if(is_multicolor != 'yes') { pageload_changecolor_admin($j("#current_product_colorid").val(),$j("#current_product_colorhash").val());}
                });
            });
//            var qrcodeform =  new VarienForm('qrcodeform', false);
            var qrcodeform =  [];
            /*function save_design_idea() {
             var saveOpts = {
             'images': true,
             'round_digits': 6
             }
             svgCanvas.clearSelection();
             generate_png();
             };
             function generate_png()
             {
             var d = svgEditor.canvas;
             var E = svgEditor.curConfig.dimensions;

             var saveOpts = {
             'images': true,
             'round_digits': 6
             }
             var tshirtcanvas = document.getElementById("img_1");
             var svgpos = $j('#svgroot').offset();
             canvas_id = "temp_1_canvas";
             //mycanvas = document.getElementById("temp_1_canvas");
             mycanvas = document.createElement("canvas");
             mycanvas.width = E[0];
             mycanvas.height = E[1];
             mycontext = mycanvas.getContext('2d');
             if(1)
             {
             svgCanvas.clearSelection();
             text_svg = svgCanvas.save(saveOpts);
             }
             // mycontext.drawSvg(text_svg,0,0,E[0], E[1]);
             //canvg(mycanvas, text_svg, {renderCallback: completeCustomization});
             //png_data = mycanvas.toDataURL("image/png");
             completeCustomization();

             }
             function completeCustomization(){
             //var png_data = mycanvas.toDataURL("image/png");
             var png_data;
             var saveOpts = {
             'images': true,
             'round_digits': 6
             }
             text_svg1 = svgCanvas.save(saveOpts);

             if(typeof text_svg1 != "undefined")
             {
             $j.ajax({
             type: 'POST',
             url: backend_url,
             cache: false,
             data: "designidea_id="+ designidea_id +"&product_id="+ product_id +"&form_key="+ formkey +"&save_str=" + encodeURIComponent(text_svg1) +"&save_png=" + png_data,
             success: function (html) {
             $j.confirm_custom('Design saved successfully! <br/>Would like to continue edit design idea?', function(ok)
             {
             if (!ok)
             {
             $j(window).unbind("beforeunload");
             window.location.href = html;
             }
             });
             document.getElementById("save_image").disabled = false;
             },
             error:function (html) {$j.alert('error in saving');}
             });
             }
             }*/

            $j("#tool_image_upload_cancel").mousedown(function(){
                $j("#svg_image_upload").hide();
                disableOther('addtimage');
                $j("addtimage").addClass('active');
                $j("#addtimage-panel").addClass('cbp-spmenu-open');
            });

            /* function getrelatedproduct(catid) {
             getrelatedproductadmin(catid);
             };
             function getrelatedproductadmin(catid) {
             showLoader();
             $j("#loaderImage").addClass('loader_pos');
             if(typeof catid == "undefined" || catid == "")	catid = $j('#prod_sub_type').val();

             $j.ajax({
             type: 'POST',
             url: categoryProductUrl,
             cache: false,
             data: "cat_id=" + catid + "&designidea_id="+ designidea_id +"&form_key=" + formkey,
             success: function (html) {
             var insertvalue = '';
             if (html == '')	insertvalue = '<span class="itemnotfound">' + confignotfound + '</span>'
             else			insertvalue = html;
             $j("#productconatiner").html(insertvalue);
             hideLoader();
             $j("#loaderImage").removeClass('loader_pos');
             }
             });
             }; */
            $j( document ).on( "orientationchange", function( event ) {
                setSharePanel();
                $j(".product-area").css("left", ($j(window).width() - $j("#product-image").width())/2+'px');
            });
            $j( window ).resize( function( event ) {
                setSharePanel();
                $j(".product-area").css("left", ($j(window).width() - $j("#product-image").width())/2+'px');
            });
            svgEditor.setConfig({
                /*dimensions: [design_area_width[1], design_area_height[1]],
                position: [pos_x[1],pos_y[1]],*/
                dimensions: [500,500],
                position: [50,50],
                canvas_expansion: 0,
                showRulers : false,
                initFill: {	color:'0000FF'},
                initStroke: { width: 1, color:'#000000'},
                initBorder: {color:'#000000'},
                bkgd_color:'none',
                no_save_warning:true,
                extensions:extensionArray,
                show_outside_canvas:0,
                lang:currentStore
            });

            //$j('#prod_type').live("change",function(){getrelatedsubcat();});
            // $j('#prod_sub_type').live("change",function(){getrelatedproduct();});

            function hexToR(h) {
                return parseInt((cutHex(h)).substring(0, 2), 16)
            };
            function hexToG(h) {
                return parseInt((cutHex(h)).substring(2, 4), 16)
            };
            function hexToB(h) {
                return parseInt((cutHex(h)).substring(4, 6), 16)
            };
            function cutHex(h) {
                return (h.charAt(0) == "#") ? h.substring(1, 7) : h
            };
            /* function changecolor(colorid,colorcode)
             {
             $j("#loaderImage").show();
             $j("#loaderImage-overlay").show();
             getMatrix(colorcode);
             $j("#loaderImage").hide();
             $j("#loaderImage-overlay").hide();
             } */
            function changemulticolorAdmin(colorid,img_src,json_obj)
            {
                $j('#objectinputsize ul').hide();
                $j('#colorid_'+colorid).show();
                document.getElementById("img_1").setAttribute("xlink:href", img_src);
                $j("#tool_front_image").attr("src",img_src);
            }
        </script>
        <!--<script src="//connect.facebook.net/en_US/all.js"></script>
<script type="text/javascript" src="//connect.facebook.net/<?php //echo $locale; ?>/all.js"></script>-->
